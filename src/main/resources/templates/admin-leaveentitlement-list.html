<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Leave Entitlements</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>

	<div class="container mt-4">
		<h2>Leave Entitlements</h2>
		<a th:href="@{/leaveentitlement/create}" class="btn btn-primary mb-2">New Leave Entitlement</a>

		<table class="table">
			<thead>
				<tr>
					<th>Employee</th>
					<th>Leave Type</th>
					<th>Entitlement</th>
					<th>Leave Balance</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="entitlement : ${leaveEntitlements}">
					<td th:text="${entitlement.employee.name}">Employee Name</td>
					<td th:text="${entitlement.leaveType.type}">Leave Type</td>
					<td th:text="${entitlement.entitlement}">Entitlement</td>
					<td th:text="${entitlement.leaveBalance}">Leave Balance</td>
					<td>
						<button type="button" class="btn btn-sm btn-warning" data-toggle="modal"
							th:data-target="'#editModal' + ${entitlement.id}">
							Edit
						</button>
						<div th:id="'editModal' + ${entitlement.id}" class="modal fade" role="dialog">
							<div class="modal-dialog">

								<div class="modal-content">
									<div class="modal-header">
										<h4 class="modal-title">Edit Leave Entitlement</h4>
										<button type="button" class="close" data-dismiss="modal">&times;</button>
									</div>
									<div class="modal-body">
										<form
											th:action="@{~/admin/leaveentitlement/edit/} + ${entitlement.id} + '/' + ${entitlement.employee.id}"
											method="post">
											<input type="hidden" th:name="id" th:value="${entitlement.id}" />

											<div class="form-group">
												<label for="entitlement">Entitlement:</label>
												<input type="text" class="form-control" id="entitlement"
													th:name="entitlement" th:value="${entitlement.entitlement}" />
											</div>

											<div class="form-group">
												<label for="leaveBalance">Leave Balance:</label>
												<input type="text" class="form-control" id="leaveBalance"
													th:name="leaveBalance" th:value="${entitlement.leaveBalance}" />
											</div>
											<button type="submit" class="btn btn-primary">Save Changes</button>
										</form>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-default"
											data-dismiss="modal">Close</button>
									</div>
								</div>
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

</body>

</html>