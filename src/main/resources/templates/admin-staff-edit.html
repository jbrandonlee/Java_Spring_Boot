<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/layout.html :: html_head}" />

<body>
	<div th:include="~{fragments/layout.html :: offcanvas_nav}" th:with="parentPage='Admin'"/>
	<main class="main-small">
		<h1 class="display-5">Edit Staff</h1>
		<form class="row g-4 pt-4" action="#" th:action="@{'/admin/staff/edit/'}+${employee.id}" th:object="${employee}" method="post">
			<div class="form-group col-12">
				<label for="name" class="form-label">Name</label>
				<input type="text" class="form-control" name="name" th:value="${employee.name}" required/>
				<div class="form-text text-danger ps-1" th:if"${#fields.hasErrors('name')}" th:errors="*{name}"></div>
			</div>
			<div class="form-group col-12">
				<label for="jobDesignation" class="form-label">Job Designation</label>
				<input type="text" class="form-control" name="jobDesignation" th:value="${employee.jobDesignation}" required/>
				<div class="form-text text-danger ps-1" th:if"${#fields.hasErrors('jobDesignation')}" th:errors="*{jobDesignation}"></div>
			</div>
			<div class="form-group col-12">
				<label for="joinDate" class="form-label">Join Date</label>
				<input type="date" class="form-control" name="joinDate" th:value="${employee.joinDate}" required/>
				<div class="form-text text-danger ps-1" th:if"${#fields.hasErrors('joinDate')}" th:errors="*{joinDate}"></div>			
			</div>
			<div class="form-group col-12">
    			<label for="managerId" class="form-label">Manager ID</label>
    			<select class="form-select" name="managerId">
					<option th:value="${null}" th:text="None"></option>
					<option th:each="managerId : ${managerIdList}" th:value="${managerId}" th:text="${managerId}"
						th:selected="${#strings.equals(employee.managerId, managerId)}"></option>
				</select>
  			</div>
  			<div class="d-flex flex-row-reverse pt-2">
				<button class="btn btn-primary ms-3" type="submit">Update</button>
				<button class="btn btn-dark ms-3" type="reset">Reset</button>
				<span class="ms-3"><a class="btn btn-outline-dark text-decoration-none" th:href="@{~/admin/staff}">Back to Staff List</a></span>
			</div>
		</form>
		<div class="row pt-4">
			<div th:if="${errorMsg != null}" th:text="${errorMsg}" class="alert alert-warning"></div>
		</div>
	</main>
</body>
</html>